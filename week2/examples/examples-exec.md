Please go through the examples in the [Process API](http://pages.cs.wisc.edu/~remzi/OSTEP/cpu-api.pdf) chapter from the textbook.

More examples [here](https://www.usna.edu/Users/cs/aviv/classes/ic221/s16/lec/14/lec.html)
